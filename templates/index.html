{{define "Index"}}
<!DOCTYPE html>
<html lang="en">
   {{template "_Head"}}
   <body>
      {{template "_Menu"}}
      <div class="container">
         <section class="card">
         <div>
            <table class="table table-striped table-hover mb-0">
               <thead>
               <tr>
                  <th>Nome</th>
                  <th>Descrição</th>
                  <th>Preço</th>
                  <th>Quantidade</th>
               </tr>
               </thead>
               <tbody>
                  {{range .}}
                  <tr>
                     <td>{{.Nome}}</td>
                     <td>{{.Descricao}}</td>
                     <td>{{.Preco}}</td>
                     <td>{{.Quantidade}}</td>
                     <!-- <td><a href="/delete?id={{.Id}}" class="btn btn-danger">Deletar</a></td> -->
                     <td><button class="btn btn-danger" onclick="onDelete('{{.Id}}')">Deletar</button></td>
                  </tr>
                  {{end}}
               </tbody>
            </table>
         </div>
         </section>
         <div class="card-footer">
         <a href="/new" class="btn btn-primary mb-2">Criar novo produto</a>
         </div>
      </div>
   </body>

   <script>
      function onDelete(id) {
         if(confirm("Deseja mesmo remover o produto ?")) window.location = `/delete?id=${id}`;
      }
   </script>

</html>
{{end}}
